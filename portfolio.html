<!doctype html>
<html lang="zh-TW" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3D 渲染作品集 | 指標建案案例 | Wayto Metaverse</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="Wayto Visual 作品集 - 頂級指標建案、國際連鎖商空、豪宅室內與720°環景、建材與虛擬展示間。8年經驗，500+專案實績。">
  <meta name="keywords" content="3D渲染作品集,建案視覺化案例,室內設計3D案例,虛擬展場案例,指標建案,豪宅3D渲染">
  <meta name="author" content="Wayto Metaverse Technology Co., Ltd.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://wayto.com.tw/portfolio.html">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://wayto.com.tw/portfolio.html">
  <meta property="og:title" content="3D 渲染作品集 | 指標建案案例 | Wayto Metaverse">
  <meta property="og:description" content="頂級指標建案、國際連鎖商空、豪宅室內與720°環景。8年經驗，500+專案實績。">
  <meta property="og:locale" content="zh_TW">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://wayto.com.tw/portfolio.html">
  <meta name="twitter:title" content="3D 渲染作品集 | 指標建案案例 | Wayto Metaverse">
  <meta name="twitter:description" content="頂級指標建案、國際連鎖商空、豪宅室內與720°環景。">
  <!-- <script src="/_sdk/element_sdk.js"></script> --> <!-- SDK文件不存在，已注释 -->
  <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&amp;family=Noto+Sans+TC:wght@300;400;500;600&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      box-sizing: border-box;
    }

    .font-cormorant {
      font-family: 'Cormorant Garamond', serif;
    }

    .font-noto {
      font-family: 'Noto Sans TC', sans-serif;
    }

    .refined-shadow {
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06);
    }

    .fade-up {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }

    .fade-up.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .hover-lift {
      transition: transform 0.4s ease, box-shadow 0.4s ease;
    }

    .hover-lift:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
    }

    nav {
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.95);
    }

    .tab-button {
      position: relative;
      padding: 0.75rem 0;
      font-size: 0.875rem;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: #9ca3af;
      border-bottom: 2px solid transparent;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .tab-button:hover {
      color: #1c1917;
    }

    .tab-button.active {
      color: #1c1917;
      border-bottom-color: #c9b896;
    }

    .tab-content {
      display: none;
      animation: fadeIn 0.5s ease;
    }

    .tab-content.active {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .project-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2.5rem;
      align-items: start;
    }

    @media (max-width: 1024px) {
      .project-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 768px) {
      .project-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
      }
    }

    .project-card {
      background: #ffffff;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      border-radius: 12px;
    }

    .project-image {
      background: #fafaf9;
      overflow: hidden;
      position: relative;
      flex-shrink: 0;
      border-radius: 12px 12px 0 0;
    }
    /* 僅環景 iframe 時固定比例（iframe 無內建比例） */
    .project-image:has(.portfolio-embed) {
      aspect-ratio: 4/3;
    }
    /* 圖/影片依原比例，但限制最大高度使卡片比例協調 */
    .project-image .media-display {
      display: block;
      width: 100%;
      height: auto;
      max-height: 380px;
      object-fit: contain;
      object-position: top;
      vertical-align: top;
    }
    
    .project-image img.media-display {
      z-index: 1;
    }
    
    .project-image video.media-display {
      display: none;
      z-index: 2;
    }
    
    .project-image video.media-display[src]:not([src=""]) {
      display: block;
    }
    
    .project-image:has(video.media-display[src]:not([src=""])) img.media-display {
      display: none;
    }

    /* 作品集：環景 iframe */
    .project-image .portfolio-embed {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      z-index: 2;
    }

    .project-info {
      padding: 1.25rem 1.5rem 1.5rem;
      flex: 1;
      min-height: 0;
    }

    .project-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.375rem;
      font-weight: 300;
      color: #1c1917;
      margin-bottom: 0.5rem;
      line-height: 1.35;
      letter-spacing: 0.02em;
    }

    .project-desc {
      font-family: 'Noto Sans TC', sans-serif;
      font-size: 1rem;
      font-weight: 400;
      line-height: 1.625;
      color: #4b5563;
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 3;
      line-clamp: 3;
      max-height: calc(1.625em * 3);
      overflow: hidden;
    }

    .project-card {
      cursor: pointer;
    }

    /* 相片模塊（lightbox）— 盡可能大 */
    .gallery-modal {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 9999;
      background: rgba(0,0,0,0.95);
      align-items: center;
      justify-content: center;
      padding: 0.75rem;
    }
    .gallery-modal.open {
      display: flex;
      flex-direction: column;
    }
    .gallery-modal .gallery-header {
      width: 100%;
      max-width: 100%;
      padding: 0 0 0.5rem;
      color: #fff;
      text-align: center;
      flex-shrink: 0;
    }
    .gallery-modal .gallery-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.25rem;
      font-weight: 300;
      margin-bottom: 0.15rem;
    }
    .gallery-modal .gallery-desc {
      font-family: 'Noto Sans TC', sans-serif;
      font-size: 0.8125rem;
      line-height: 1.5;
      color: rgba(255,255,255,0.85);
    }
    .gallery-modal .gallery-content {
      flex: 1;
      display: flex;
      align-items: stretch;
      justify-content: center;
      width: 100%;
      max-width: 100%;
      min-height: 0;
      position: relative;
    }
    .gallery-modal #gallery-slides {
      position: relative;
      width: 100%;
      flex: 1;
      min-height: 0;
    }
    .gallery-modal .gallery-slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      display: none;
    }
    .gallery-modal .gallery-slide.active {
      display: block;
    }
    .gallery-modal .gallery-slide img,
    .gallery-modal .gallery-slide video {
      width: 100%;
      height: 100%;
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }
    /* 環景 iframe 填滿整個閱覽區 */
    .gallery-modal .gallery-slide iframe {
      width: 100%;
      height: 100%;
      min-height: 100%;
      border: 0;
    }
    .gallery-modal .gallery-prev,
    .gallery-modal .gallery-next {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 48px;
      height: 48px;
      border: none;
      background: rgba(255,255,255,0.2);
      color: #fff;
      font-size: 1.5rem;
      cursor: pointer;
      border-radius: 50%;
      transition: background 0.2s;
    }
    .gallery-modal .gallery-prev:hover,
    .gallery-modal .gallery-next:hover {
      background: rgba(255,255,255,0.35);
    }
    .gallery-modal .gallery-prev { left: 0.5rem; }
    .gallery-modal .gallery-next { right: 0.5rem; }
    .gallery-modal .gallery-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      width: 40px;
      height: 40px;
      border: none;
      background: rgba(255,255,255,0.2);
      color: #fff;
      font-size: 1.25rem;
      cursor: pointer;
      border-radius: 50%;
    }
    .gallery-modal .gallery-dots {
      display: flex;
      gap: 0.5rem;
      justify-content: center;
      padding: 0.5rem 0;
      flex-shrink: 0;
    }
    .gallery-modal .gallery-dots span {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255,255,255,0.4);
      cursor: pointer;
    }
    .gallery-modal .gallery-dots span.active {
      background: #fff;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <!-- <script src="/_sdk/data_sdk.js" type="text/javascript"></script> --> <!-- SDK 檔案不存在，已註解 -->
 </head>
 <body class="h-full font-noto bg-white text-gray-900 overflow-auto"><!-- Navigation -->
  <nav class="fixed top-0 left-0 right-0 z-50 border-b border-gray-100">
   <div class="max-w-screen-2xl mx-auto px-6 lg:px-16 h-24 flex items-center justify-between">
    <a href="visual.html" class="font-cormorant text-2xl font-light tracking-wide hover:text-gray-600 transition-colors" id="nav-title">
     WORKS
    </a>
    <div class="flex gap-8 text-sm tracking-widest uppercase"><a href="visual.html" class="hover:text-gray-600 transition-colors">3D 首頁</a> <a href="services.html" class="hover:text-gray-600 transition-colors">服務</a> <a href="#works" class="hover:text-gray-600 transition-colors">作品</a> <a href="process.html" class="hover:text-gray-600 transition-colors">流程</a> <a href="#contact" class="hover:text-gray-600 transition-colors">聯絡</a>
    </div>
                        </div>
  </nav><!-- Main Content -->
  <main class="h-full pt-24"><!-- Hero Section -->
   <section class="py-32 px-6 lg:px-16">
    <div class="max-w-screen-2xl mx-auto">
     <div class="max-w-4xl fade-up">
      <p class="text-xs tracking-widest uppercase text-gray-500 mb-4" id="hero-label">WORKS</p>
      <h1 class="font-cormorant text-6xl lg:text-7xl font-light mb-8" id="hero-title">作品集</h1>
      <p class="text-base leading-loose text-gray-600 max-w-3xl" id="hero-description">我們與室內設計師、建設公司及品牌端合作，<br>
        將空間與產品概念轉化為清楚、可溝通的 3D 視覺呈現。<br>
        著重比例、材質與實際使用情境，<br>
        讓圖面不只好看，也能協助提案、溝通與決策。</p>
                            </div>
                        </div>
   </section><!-- Portfolio Section -->
   <section id="works" class="py-16 px-6 lg:px-16">
    <div class="max-w-screen-2xl mx-auto">
     <div class="mb-16 border-b border-gray-200">
      <div class="flex gap-12 overflow-x-auto" id="tabs-container">
       <button class="tab-button active" data-category="interior">室內設計 3D</button>
       <button class="tab-button" data-category="commercial">商業空間</button>
       <button class="tab-button" data-category="construction">建案</button>
       <button class="tab-button" data-category="material">建材 / 虛擬展場</button>
      </div>
     </div>
     <div class="tab-content active" data-content="interior">
      <div class="mb-12 fade-up">
       <p class="text-gray-600 leading-relaxed max-w-3xl">包含地標性豪宅之全室空間建模渲染，提供 720° 環景體驗。<br>提升溝通效率，讓客戶在預售階段即可完整體驗未來空間。</p>
      </div>
      <div class="project-grid" data-category="interior"></div>
     </div>
     <div class="tab-content" data-content="commercial">
      <div class="mb-12 fade-up">
       <p class="text-gray-600 leading-relaxed max-w-3xl">為知名跨國餐飲集團與海外連鎖品牌（涵蓋美國、土耳其等地區）提供視覺 2.0 更新模擬與全區渲染。<br>跨國遠端協作，協助品牌在實體店面施工前精準掌控全球統一視覺規範。</p>
      </div>
      <div class="project-grid" data-category="commercial"></div>
     </div>
     <div class="tab-content" data-content="construction">
      <div class="mb-12 fade-up">
       <p class="text-gray-600 leading-relaxed max-w-3xl">承接多項指標性豪宅與景觀規劃，提供包含建築外觀、公設渲染與空拍環景銷售動畫。<br>以 1:1 建模還原設計，不做過度美化，確保「圖做得出，現場也做得出」。8年經驗，500+專案實績。</p>
      </div>
      <div class="project-grid" data-category="construction"></div>
     </div>
     <div class="tab-content" data-content="material">
      <div class="mb-12 fade-up">
       <p class="text-gray-600 leading-relaxed max-w-3xl">為跨國建材商與家具品牌打造動態展示動畫與可互動的「線上數位目錄」。<br>呈現產品在實際空間中的應用效果，協助客戶選材決策，減少實體樣品成本。</p>
      </div>
      <div class="project-grid" data-category="material"></div>
     </div>
     <!-- 相片模塊（點擊作品後顯示） -->
     <div id="gallery-modal" class="gallery-modal" aria-hidden="true">
      <button type="button" class="gallery-close" id="gallery-close" aria-label="關閉">×</button>
      <div class="gallery-header">
       <h2 class="gallery-title" id="gallery-title"></h2>
       <p class="gallery-desc" id="gallery-desc"></p>
      </div>
      <div class="gallery-content">
       <button type="button" class="gallery-prev" id="gallery-prev" aria-label="上一張">‹</button>
       <div id="gallery-slides"></div>
       <button type="button" class="gallery-next" id="gallery-next" aria-label="下一張">›</button>
      </div>
      <div class="gallery-dots" id="gallery-dots"></div>
     </div>
    </div>
   </section><!-- Footer -->
   <footer id="contact" class="py-16 px-6 lg:px-16 mt-32 border-t border-gray-100">
    <div class="max-w-screen-2xl mx-auto">
     <div class="flex flex-col lg:flex-row justify-between items-start gap-12">
      <div>
       <div class="font-cormorant text-xl font-light tracking-wide mb-4">
        WORKS
                </div>
       <p class="text-sm text-gray-500">3D Visualization Studio</p>
            </div>
      <div class="text-sm text-gray-500">
       <p>© 2024 All Rights Reserved</p>
                </div>
            </div>
        </div>
    </footer>
  </main>
  <script>
    let portfolioData = { categories: [], items: [] };

    (function loadPortfolio() {
      fetch('data/portfolio.json')
        .then(function(res) { return res.ok ? res.json() : Promise.reject(); })
        .then(function(data) {
          portfolioData = data;
          renderPortfolio();
          bindGallery();
          setTimeout(function() {
            document.querySelectorAll('.tab-content.active .fade-up').forEach(function(el, i) {
              setTimeout(function() { el.classList.add('visible'); }, i * 100);
            });
          }, 100);
        })
        .catch(function() {
          document.querySelectorAll('.project-grid[data-category]').forEach(function(g) {
            g.innerHTML = '<p class="text-gray-500">無法載入作品集資料。</p>';
          });
        });
    })();

    function renderPortfolio() {
      var data = portfolioData;
      document.querySelectorAll('.project-grid[data-category]').forEach(function(grid) {
        var category = grid.dataset.category;
        var items = data.items.filter(function(i) { return i.category === category; });
        if (!items || items.length === 0) {
          grid.innerHTML = '<p class="text-gray-500">尚無作品，請使用工具「新增作品集」新增。</p>';
          return;
        }
        grid.innerHTML = items.map(function(item) {
          var name = (item.name || '').replace(/</g, '&lt;').replace(/>/g, '&gt;');
          var desc = (item.description || '').replace(/</g, '&lt;').replace(/>/g, '&gt;');
          var embedUrl = (item.embedUrl || '').trim();
          var firstImg = (item.images && item.images[0]) ? item.images[0] : '';
          var firstVideo = (item.videos && item.videos[0]) ? item.videos[0] : '';
          var mediaHtml = '';
          if (embedUrl) {
            mediaHtml = '<iframe class="portfolio-embed" src="' + embedUrl.replace(/"/g, '&quot;') + '" title="' + name + '"></iframe>';
          } else if (firstImg) {
            mediaHtml = '<img src="' + firstImg.replace(/"/g, '&quot;') + '" alt="' + name + '" class="w-full media-display" style="height:auto" onerror="this.style.background=\'#f0f0f0\';this.style.minHeight=\'200px\'">';
          } else if (firstVideo) {
            mediaHtml = '<video class="w-full media-display" style="height:auto" src="' + firstVideo.replace(/"/g, '&quot;') + '" muted loop playsinline autoplay></video>';
          } else {
            mediaHtml = '<img src="" alt="' + name + '" class="w-full media-display" style="background:#f0f0f0;min-height:200px;height:auto" onerror="this.style.background=\'#f0f0f0\'">';
          }
          return '<article class="project-card hover-lift fade-up" data-item-id="' + item.id + '">' +
            '<div class="project-image">' + mediaHtml + '</div>' +
            '<div class="project-info"><h3 class="project-title">' + name + '</h3><p class="project-desc">' + desc + '</p></div></article>';
        }).join('');
      });
    }

    var galleryCurrentIndex = 0;
    var gallerySlides = [];
    var galleryItem = null;

    function openGallery(item) {
      galleryItem = item;
      var embedUrl = (item.embedUrl || '').trim();
      var imgs = item.images || [];
      var vids = item.videos || [];
      gallerySlides = [];
      if (embedUrl) gallerySlides.push({ type: 'embed', url: embedUrl });
      imgs.forEach(function(path) { gallerySlides.push({ type: 'image', path: path }); });
      vids.forEach(function(path) { gallerySlides.push({ type: 'video', path: path }); });
      galleryCurrentIndex = 0;
      document.getElementById('gallery-title').textContent = item.name || '';
      document.getElementById('gallery-desc').textContent = item.description || '';
      var slidesEl = document.getElementById('gallery-slides');
      slidesEl.innerHTML = gallerySlides.map(function(s, i) {
        var active = i === 0 ? ' active' : '';
        if (s.type === 'embed') {
          return '<iframe class="gallery-slide' + active + '" src="' + s.url.replace(/"/g, '&quot;') + '" title=""></iframe>';
        }
        if (s.type === 'video') {
          return '<video class="gallery-slide' + active + '" src="' + s.path.replace(/"/g, '&quot;') + '" controls playsinline></video>';
        }
        return '<img class="gallery-slide' + active + '" src="' + s.path.replace(/"/g, '&quot;') + '" alt="">';
      }).join('');
      var dotsEl = document.getElementById('gallery-dots');
      dotsEl.innerHTML = gallerySlides.map(function(_, i) {
        return '<span data-index="' + i + '"' + (i === 0 ? ' class="active"' : '') + '></span>';
      }).join('');
      document.getElementById('gallery-modal').classList.add('open');
      document.getElementById('gallery-modal').setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
    }

    function closeGallery() {
      document.getElementById('gallery-modal').classList.remove('open');
      document.getElementById('gallery-modal').setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
    }

    function showGallerySlide(index) {
      if (gallerySlides.length === 0) return;
      galleryCurrentIndex = (index + gallerySlides.length) % gallerySlides.length;
      document.querySelectorAll('#gallery-slides .gallery-slide').forEach(function(el, i) {
        el.classList.toggle('active', i === galleryCurrentIndex);
        if (el.tagName === 'VIDEO') {
          if (i === galleryCurrentIndex) el.play().catch(function() {});
          else { el.pause(); el.currentTime = 0; }
        }
      });
      document.querySelectorAll('#gallery-dots span').forEach(function(dot, i) {
        dot.classList.toggle('active', i === galleryCurrentIndex);
      });
    }

    function bindGallery() {
      document.getElementById('works').addEventListener('click', function(e) {
        var card = e.target.closest('.project-card[data-item-id]');
        if (!card) return;
        var id = card.dataset.itemId;
        var item = portfolioData.items.find(function(i) { return i.id === id; });
        if (item) openGallery(item);
      });
      document.getElementById('gallery-close').addEventListener('click', closeGallery);
      document.getElementById('gallery-modal').addEventListener('click', function(e) {
        if (e.target.id === 'gallery-modal') closeGallery();
      });
      document.getElementById('gallery-prev').addEventListener('click', function() {
        showGallerySlide(galleryCurrentIndex - 1);
      });
      document.getElementById('gallery-next').addEventListener('click', function() {
        showGallerySlide(galleryCurrentIndex + 1);
      });
      document.getElementById('gallery-dots').addEventListener('click', function(e) {
        var idx = e.target.dataset.index;
        if (idx != null) showGallerySlide(parseInt(idx, 10));
      });
      document.addEventListener('keydown', function(e) {
        if (!document.getElementById('gallery-modal').classList.contains('open')) return;
        if (e.key === 'Escape') closeGallery();
        if (e.key === 'ArrowLeft') showGallerySlide(galleryCurrentIndex - 1);
        if (e.key === 'ArrowRight') showGallerySlide(galleryCurrentIndex + 1);
      });
    }

    const defaultConfig = {
      background_color: '#ffffff',
      surface_color: '#fafaf9',
      text_color: '#1c1917',
      button_color: '#1c1917',
      accent_color: '#c9b896',
      font_family: 'Noto Sans TC',
      font_size: 16,
      page_title: 'WORKS',
      page_subtitle: '作品集',
      intro_text: '我們與室內設計師、建設公司及品牌端合作，將空間與產品概念轉化為清楚、可溝通的 3D 視覺呈現。著重比例、材質與實際使用情境，讓圖面不只好看，也能協助提案、溝通與決策。'
    };

    async function onConfigChange(config) {
      const backgroundColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const accentColor = config.accent_color || defaultConfig.accent_color;
      const buttonColor = config.button_color || defaultConfig.button_color;
      const customFont = config.font_family || defaultConfig.font_family;
      const baseSize = config.font_size || defaultConfig.font_size;
      const baseFontStack = '-apple-system, BlinkMacSystemFont, sans-serif';

      document.body.style.backgroundColor = backgroundColor;
      document.body.style.color = textColor;
      document.body.style.fontFamily = `${customFont}, ${baseFontStack}`;
      document.body.style.fontSize = `${baseSize}px`;

      document.querySelectorAll('.project-card').forEach(card => {
        card.style.backgroundColor = backgroundColor;
      });

      document.querySelectorAll('.tab-button.active').forEach(btn => {
        btn.style.borderBottomColor = accentColor;
      });

      document.getElementById('nav-title').textContent = config.page_title || defaultConfig.page_title;
      document.getElementById('hero-label').textContent = config.page_title || defaultConfig.page_title;
      document.getElementById('hero-title').textContent = config.page_subtitle || defaultConfig.page_subtitle;
      document.getElementById('hero-description').innerHTML = (config.intro_text || defaultConfig.intro_text).replace(/\n/g, '<br>');

      document.querySelectorAll('h1').forEach(el => {
        el.style.fontSize = `${baseSize * 3.5}px`;
      });

      document.querySelectorAll('.project-title').forEach(el => {
        el.style.fontSize = `${baseSize * 1.5}px`;
        el.style.color = textColor;
      });
    }

    // Tab switching functionality
    const tabButtons = document.querySelectorAll('.tab-button');
    const tabContents = document.querySelectorAll('.tab-content');

    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        const category = button.dataset.category;

        // Update active states
        tabButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');

        // Show corresponding content
        tabContents.forEach(content => {
          content.classList.remove('active');
          if (content.dataset.content === category) {
            content.classList.add('active');
            
            // Trigger fade-up animation for newly visible content
            const fadeElements = content.querySelectorAll('.fade-up');
            fadeElements.forEach((el, index) => {
              setTimeout(() => {
                el.classList.add('visible');
              }, index * 100);
            });
          }
        });
      });
    });

    // Scroll animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, observerOptions);

    document.querySelectorAll('.fade-up').forEach(el => observer.observe(el));

    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // Initialize SDK
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => {
                config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => config.surface_color || defaultConfig.surface_color,
              set: (value) => {
                config.surface_color = value;
                window.elementSdk.setConfig({ surface_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => config.button_color || defaultConfig.button_color,
              set: (value) => {
                config.button_color = value;
                window.elementSdk.setConfig({ button_color: value });
              }
            },
            {
              get: () => config.accent_color || defaultConfig.accent_color,
              set: (value) => {
                config.accent_color = value;
                window.elementSdk.setConfig({ accent_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: {
            get: () => config.font_family || defaultConfig.font_family,
            set: (value) => {
              config.font_family = value;
              window.elementSdk.setConfig({ font_family: value });
            }
          },
          fontSizeable: {
            get: () => config.font_size || defaultConfig.font_size,
            set: (value) => {
              config.font_size = value;
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }),
        mapToEditPanelValues: (config) => new Map([
          ['page_title', config.page_title || defaultConfig.page_title],
          ['page_subtitle', config.page_subtitle || defaultConfig.page_subtitle],
          ['intro_text', config.intro_text || defaultConfig.intro_text]
        ])
      });
    }

    // Trigger initial animation for visible elements
    setTimeout(() => {
      document.querySelectorAll('.tab-content.active .fade-up').forEach((el, index) => {
        setTimeout(() => {
          el.classList.add('visible');
        }, index * 100);
      });
    }, 300);

    // 自動檢測並顯示視頻或圖片
    function checkAndDisplayMedia() {
      document.querySelectorAll('.project-image').forEach(container => {
        const img = container.querySelector('img.media-display');
        const video = container.querySelector('video.media-display');
        
        if (img && video && video.src) {
          // 檢查視頻是否存在
          const checkVideo = () => {
            fetch(video.src, { method: 'HEAD' })
              .then(response => {
                if (response.ok) {
                  // 視頻存在，顯示視頻
                  img.style.display = 'none';
                  video.style.display = 'block';
                  video.play().catch(() => {}); // 自動播放，忽略錯誤
                } else {
                  // 視頻不存在，顯示圖片
                  img.style.display = 'block';
                  video.style.display = 'none';
                }
              })
              .catch(() => {
                // 請求失敗，顯示圖片
                img.style.display = 'block';
                video.style.display = 'none';
              });
          };
          
          // 延遲檢查，確保頁面已載入
          setTimeout(checkVideo, 100);
        } else if (img) {
          // 只有圖片，直接顯示
          img.style.display = 'block';
        }
      });
    }

    // 頁面載入後執行
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', checkAndDisplayMedia);
    } else {
      checkAndDisplayMedia();
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b56d94ec4a5f1e0',t:'MTc2Njk4NTYzMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

